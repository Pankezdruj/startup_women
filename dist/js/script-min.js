function JSON_to_URLEncoded(e,o,t=[]){if("object"==typeof e)for(var a in e)JSON_to_URLEncoded(e[a],o?o+"["+a+"]":a,t);else t.push(o+"="+encodeURIComponent(e));return t.join("&")}const btnsReservation=document.querySelectorAll(".button_book"),btnCofirmation=document.querySelector(".form__button"),forms=document.querySelectorAll(".form"),modalReservation=document.querySelector(".overlay__modal-reservation"),modalConfirmation=document.querySelector(".overlay__modal-confirmation"),overlay=document.querySelector(".overlay"),crosses=document.querySelectorAll(".overlay__cross"),body=document.getElementsByTagName("body")[0];window.addEventListener("DOMContentLoaded",()=>{(new WOW).init();for(let e=0;e<btnsReservation.length;e++)btnsReservation[e].addEventListener("click",()=>{modalReservation.classList.add("overlay__modal_active"),overlay.classList.add("overlay_active"),body.style.overflow="hidden"});for(let e=0;e<forms.length;e++)forms[e].addEventListener("submit",e=>{e.preventDefault();const o=Object.fromEntries(new FormData(e.target).entries()),t=JSON_to_URLEncoded(JSON.stringify(o.name),"name"),a=JSON_to_URLEncoded(JSON.stringify(o.email),"email"),r=JSON_to_URLEncoded(JSON.stringify(o.phone),"phone");fetch("../mailer/smart.php",{method:"POST",body:`${t}&${a}&${r}`,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(e=>{console.log(e),modalConfirmation.classList.add("overlay__modal_active"),overlay.classList.add("overlay_active"),modalReservation.classList.remove("overlay__modal_active"),body.style.overflow="hidden"}).catch(e=>console.error(e))});for(let e=0;e<crosses.length;e++)crosses[e].addEventListener("click",()=>{body.style.overflow="visible",overlay.classList.remove("overlay_active"),modalReservation.classList.remove("overlay__modal_active"),modalConfirmation.classList.remove("overlay__modal_active")});const e=document.getElementsByClassName("burger")[0],o=document.getElementsByClassName("window")[0],t=document.getElementsByClassName("menu__item");e.addEventListener("click",()=>{e.classList.toggle("burger_active"),o.classList.toggle("window_active")}),t.forEach(t=>{t.addEventListener("click",()=>{e.classList.remove("burger_active"),o.classList.remove("window_active")})})});